<% include ../partials/headerAluno %>

<div class="row" >
    <div class="col s12" >
        <h1 class="flow-text"><i class="material-icons left">books</i>Exercícios</h1>
    </div>
</div>

<section>

    <div class="row" >
        <div class="col s12" >
            <div class="card" >
                <div class="card-content" >
                    <span class="card-title">
                        <b class="right-align">Ranking Geral:</b> <%- posicao == 1 ? 'Primeiro lugar!! Parabéns, você acertou mais vezes em menor tempo!' : posicao + "&ordf lugar, não desanime e tente em outra opotunidade o primeiro lugar" %>
                    </span>
                    <b>Data: </b><%- moment(resultado.created_at).format('DD/MM/YYYY') %>
                    <b>Tempo total: </b><%- resultado.tempo %>s
                </div>
            </div>
        </div>
    </div>
    <% questoes.forEach(function(questao, indice) { %>

        <div class="row">
            <div class="col s12">
                <div class="card">
                    <div class="card-content">
                        <span class="card-title"><b>#<%- indice+1 %></b><small class="right"><b>Seu tempo de resposta:</b> <%- questao.tempo %>s</small></span>
                        <div class="row" >
                            <div id="enunciado" class="col s12" >
                                <p>
                                    <span class="left right-0">(</span>
                                    <i class="material-icons left right-0 <%- questao.acertou ? 'green-text' : 'red-text' %>" ><%- questao.acertou ? 'done' : 'clear' %></i>
                                    <span class="left right-0" >)</span>
                                    <span class="left right-0" ><%- questao.questao %></span>
                                </p>
                            </div>
                        </div>
                        <div class="row" >
                            <div id="opcoes" class="col s12" >
                                <% questao.opcoes.forEach(function(opcao, numero) { %>
                                    <p>
                                        <label for="op<%- indice %><%- numero %>">
                                            <input type="radio" id="op<%- indice %><%- numero %>" class="with-gap" name="op<%- indice %><%- numero %>" disabled <%- questao.numero == numero ? "checked" : '' %> />
                                            <span <%- opcao._correta  ? 'class="green-text bold"' : '' %>><%- opcao._texto %></span>
                                        </label>                                    
                                    </p>
                                <% }); %>
                            </div>
                        </div>
                        <% if (questao.justificativa){ %>
                            <div class="row" >
                                <div class="col s12" >
                                    <div class="col s12">
                                        <div class="card-panel grey lighten-5">
                                        <div class="row valign-wrapper">
                                            <span class="black-text">
                                                <b>Justificativa:</b>
                                                <%- questao.justificativa %>
                                            </span>
                                        </div>
                                        </div>
                                    </div>        
                                </div>
                            </div>
                        <% } %>
                    </div>
                </div>
            </div>
        </div>
    <% }) %>
</section>
   
<% include ../partials/footerAluno %>