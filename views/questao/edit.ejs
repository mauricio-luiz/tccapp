<% include ../partials/headerProfessor %>
<div class="container" >
    <header>
        <div class="row" >
            <div class="col s12"  >
                <h3 class="flow-text" ><i class="material-icons left" >content_paste</i>Editar Questao<span id="quantidadeQuestao" class="new badge" data-badge-caption="Questões Criadas">1</span></h3>
            </div>
        </div>
    </header>
    <main>
        <section>   
            <div class="row" >
                <div class="col s12" >
                    <form action="/questao/<%- questao._id %>?_method=put" method="post">
                        <div id="template_exercicio">
                            <div class="row">
                                <div class="input-field col s12">
                                    <textarea id="enunciado" class="materialize-textarea" data-length="120" name="questao[enunciado]"><%- questao.questao %></textarea>
                                    <label for="enunciado">Digitar Questão</label>
                                </div>
                            </div>
                            <div class="row">
                                <div class="input-field col s12">
                                    <textarea id="opcao" class="materialize-textarea" data-length="120" ></textarea>
                                    <label for="opcao">Digitar Opção</label>
                                </div>
                                <div class="col s12">
                                    <button id="botao-adicionaOpcao" class="btn waves-effect waves-light teal btn-small right" type="button" name="action">Adicionar Opção
                                        <i class="material-icons left">add</i>
                                    </button>
                                </div>
                            </div>                                                   
                            <div id="listaOpcoes" >                            
                            </div>
                        </div>
                        <div class="acoes" >
                            <div class="fixed-action-btn">
                                <a class="btn-floating btn-large blue lighten-2">
                                    <i class="large material-icons">menu</i>
                                </a>
                                <ul>
                                    <li class="tooltipped" data-position="top" data-tooltip="Atualizar">
                                            <input type="hidden" value="<%- questao.exercicio %>" name="questao[exercicio]" >
                                            <button class="btn-floating waves-effect waves-light" type="submit" >
                                                <i class="material-icons left">update</i>
                                            </button>
                                        </form>
                                    </li>
                                    <li><a id="verQuestoes" href="/exercicio/<%- questao.exercicio %>/mostrar" class="btn-floating red darken-1 tooltipped modal-trigger <%- quantidade_exercicio > 0 ? '' : 'disabled' %>" data-position="top" data-tooltip="Mostrar Questoes"><i class="material-icons">description</i></a></li>
                                </ul>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </section>  
    </main>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        var elems = document.querySelectorAll('.fixed-action-btn');
        var instances = M.FloatingActionButton.init(elems, {
        direction: 'left',
        hoverEnabled: true
        });
    });

    document.addEventListener('DOMContentLoaded', function() {
        var elems = document.querySelectorAll('.tooltipped');
        var instances = M.Tooltip.init(elems, []);
    });

    const listaOpcoes = <%- JSON.stringify(questao.opcoes) %>;
    const opcaoCorreta = <%- JSON.stringify(questao.correta) %>;
</script>
<% include ../partials/footerProfessor %>